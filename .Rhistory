unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
rscodeio::install_theme()
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
knitr::opts_chunk$set( warning = FALSE, message = FALSE, tidy.opts=list(width.cutoff=10),tidy=TRUE)
options(width=100)
#load the required libraries
library(ggplot2)
library(dplyr)
library(plotly)
library(RColorBrewer)
library(scales)
library(ggthemes)
library(tidyr)
library(foreign)
library(Hmisc)
library(haven)
library(rhandsontable)
library(factoextra)
library(FactoMineR)
library(cluster)
library(ade4)
library(stargazer)
library(psych)
library(clustertend)
library(corrplot)
library(summarytools)
library(kableExtra)
library(ggpubr)
library(splines2)
library(reshape2)
library(DT)
library(likert)
library(ineq)
library(MASS)
library(knitr)
library(viridis)
library(leaflet)
library(here)
# figure caption on top a hook function
#
set.seed(7)
#clear the workspace
rm(list = ls())
# Read all the data sets to R
list.filenames <- list.files(path = here("Data"), pattern = ".dta")
# create an empity list to
list.data <- list()
# loop through the file names and the data
for(i in 1:length(list.filenames)){
list.data[[i]] <- as_factor(haven::read_dta(paste0("Data/",list.filenames[i])), only_labeled=TRUE)
#list.data2[[i]] <- foreign::read.dta(list.filenames[i], convert.factors = TRUE)
}
library(tidyverse)
#clear the workspace
rm(list = ls())
# Read all the data sets to R
list.filenames <- list.files(path = here("Data"), pattern = ".dta")
# create an empity list to
list.data <- list()
# loop through the file names and the data
for(i in 1:length(list.filenames)){
list.data[[i]] <- as_factor(haven::read_dta(paste0("Data/",list.filenames[i])), only_labelled = TRUE)
#list.data2[[i]] <- foreign::read.dta(list.filenames[i], convert.factors = TRUE)
}
# attache file names to the list
names(list.data) <- list.filenames
#global rounding function
round_df <- function(x, digits) {
# round all numeric variables
# x: data frame
# digits: number of digits to round
numeric_columns <- sapply(x, class) == 'numeric'
x[numeric_columns] <-  round(x[numeric_columns], digits)
x
}
myColors <- list( "#2f1a5c",
"#5f1d65",
"#8a2168",
"#b12d64",
"#d1435c",
"#e96050",
"#f98143",
"#ffa538")
myColors2 <- list("#26547C","#EF476F","#FFD166","#06D6A0",
"#454545","#9E2A2B","#E09F3E","#306B34"
, "#5603AD", "#52154E", "#20A4F3",
"#0F8B8D","#F26419")
mycolor3 <- c("#19619d",
"#208a4b",
"#665191",
"#a05195",
"#b01255",
"#ffa600",
"#0e2759",
"#ff7c43"
)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
library(here)
knitr::opts_chunk$set( warning = FALSE, message = FALSE, tidy.opts=list(width.cutoff=10),tidy=TRUE)
options(width=100)
#load the required libraries
library(ggplot2)
library(dplyr)
library(plotly)
library(RColorBrewer)
library(scales)
library(ggthemes)
library(tidyr)
library(foreign)
library(Hmisc)
library(haven)
library(rhandsontable)
library(factoextra)
library(FactoMineR)
library(cluster)
library(ade4)
library(stargazer)
library(psych)
library(clustertend)
library(corrplot)
library(summarytools)
library(kableExtra)
library(ggpubr)
library(splines2)
library(reshape2)
library(DT)
library(likert)
library(ineq)
library(MASS)
library(knitr)
library(viridis)
library(leaflet)
library(here)
# figure caption on top a hook function
#
set.seed(7)
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
here("StudyAreaMap")
sum <- summarytools::freq(list.data$combined4.1.dta$EducationLevel, order = "freq")
knitr::opts_chunk$set( warning = FALSE, message = FALSE, tidy.opts=list(width.cutoff=10),tidy=TRUE)
options(width=100)
#load the required libraries
library(ggplot2)
library(dplyr)
library(plotly)
library(RColorBrewer)
library(scales)
library(ggthemes)
library(tidyr)
library(foreign)
library(Hmisc)
library(haven)
library(rhandsontable)
library(factoextra)
library(FactoMineR)
library(cluster)
library(ade4)
library(stargazer)
library(psych)
library(clustertend)
library(corrplot)
library(summarytools)
library(kableExtra)
library(ggpubr)
library(splines2)
library(reshape2)
library(DT)
library(likert)
library(ineq)
library(MASS)
library(knitr)
library(viridis)
library(leaflet)
library(here)
# figure caption on top a hook function
#
set.seed(7)
#clear the workspace
rm(list = ls())
# Read all the data sets to R
list.filenames <- list.files(path = here("Data"), pattern = ".dta")
# create an empity list to
list.data <- list()
# loop through the file names and the data
for(i in 1:length(list.filenames)){
list.data[[i]] <- as_factor(haven::read_dta(paste0("Data/",list.filenames[i])), only_labelled = TRUE)
#list.data2[[i]] <- foreign::read.dta(list.filenames[i], convert.factors = TRUE)
}
# attache file names to the list
names(list.data) <- list.filenames
#global rounding function
round_df <- function(x, digits) {
# round all numeric variables
# x: data frame
# digits: number of digits to round
numeric_columns <- sapply(x, class) == 'numeric'
x[numeric_columns] <-  round(x[numeric_columns], digits)
x
}
myColors <- list( "#2f1a5c",
"#5f1d65",
"#8a2168",
"#b12d64",
"#d1435c",
"#e96050",
"#f98143",
"#ffa538")
myColors2 <- list("#26547C","#EF476F","#FFD166","#06D6A0",
"#454545","#9E2A2B","#E09F3E","#306B34"
, "#5603AD", "#52154E", "#20A4F3",
"#0F8B8D","#F26419")
mycolor3 <- c("#19619d",
"#208a4b",
"#665191",
"#a05195",
"#b01255",
"#ffa600",
"#0e2759",
"#ff7c43"
)
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
shapeData <- readOGR("Data_csv/StudyAreaMap", "StudyArea", verbose = FALSE)
shapeData <- readOGR("Data_csv\StudyAreaMap", "StudyArea", verbose = FALSE)
shapeData <- readOGR("Data_csv/StudyAreaMap", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
sum <- summarytools::freq(list.data$combined4.1.dta$EducationLevel, order = "freq")
sum <- sum[-5,]
DT::datatable(round(sum,3), options = list(
bPaginate = FALSE
), caption = htmltools::tags$caption(
style = 'caption-side: top; text-align: center;',
'Table 1: ', htmltools::em('Education of Household Head.')))
sum2 <- summarytools::freq(list.data$combined4.1.dta$Age_Class, order = "freq")
sum2 <- sum2[-5,]
DT::datatable(round(sum2,3),options = list(
bPaginate = FALSE
), caption = htmltools::tags$caption(
style = 'caption-side: top; text-align: center;',
'Table 2: ', htmltools::em('Age class of Household Head.')))
df <- list.data$combined4.1.dta$gender
df <- as.data.frame(df)
df2 <- df%>%
group_by(df)%>%
dplyr::summarise(counts=n())%>%
mutate(Percent = round(counts*100/sum(counts), 1))
plot_ly(df2, labels= ~df, values= ~counts, marker = list(colors = mycolor3,
line = list(color = '#FFFFFF', width = 1)))%>%
add_pie() %>%
layout(title = "Gender of Household Head",  showlegend =T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
install.packages("formatR")
df <- list.data$Riceandmaize.dta
df <- df[,c(1,2)]
names(df)[1] <- "Maize Yield"
names(df)[2] <- "Rice Yield"
df2 <- reshape2::melt(df)
gg<-ggplot(df2,aes(x = value)) + stat_ecdf(aes(colour = variable, geom = "step"))+
geom_vline(xintercept = c(879,1040), color= c("red", "mediumturquoise"), linetype="dashed", size=0.7)+
guides(fill=guide_legend(title = NULL))+
labs(x="Yield in Kg/ha", y="ecd", title= "Empirical cumulative distribution of yield for Rice and Maize")+theme_light()+scale_fill_economist()+
theme(legend.title=element_blank(),plot.title = element_text(hjust = 0.5, size = 12))
gg
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap/", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap\", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("/StudyAreaMap", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap/StudyArea.shp", "StudyArea", verbose = FALSE)
shapeData <- spTransform(shapeData, CRS("+proj=longlat +datum=WGS84 +no_defs"))
cities<- read.csv2(here("Data_csv", "wardCenterPoint.csv"))
leaflet(shapeData) %>%
#  addTiles()%>%
#addProviderTiles(providers$Stamen.TerrainBackground)%>%
addProviderTiles(providers$Esri.WorldImagery)%>%
addProviderTiles(providers$OpenStreetMap, options = providerTileOptions(opacity = 0.2))%>%
setView( lat = -8.350750, lng = 36.700436,zoom=9)%>%
# addCircles( lat = -8.350750, lng = 36.560436,radius =70000, opacity = 0.1)%>%
# addCircles( lat = -8.350750, lng = 36.560436,radius =65000, opacity = 0.1)%>%
addPolygons(weight = 1, col ="white", fillColor = topo.colors(10, NULL),
highlight = highlightOptions(color = "black", weight = 3, bringToFront = TRUE), label = paste0(shapeData$WARD_NAME," , ", "Farm Population: ", shapeData$NoFarmHH12) )%>%
addCircles(data = cities, lng = ~lng, lat = ~lat, weight = 1,
radius = ~sqrt(cities$NoHH2012) * 50)%>%
addCircles(data = cities, lng = ~lng, lat = ~lat, weight = 1,
radius = ~sqrt(cities$NoFHH12_2) * 50, color = "red")
knitr::opts_chunk$set( warning = FALSE, message = FALSE, tidy.opts=list(width.cutoff=10),tidy=TRUE)
options(width=100)
#load the required libraries
library(ggplot2)
library(dplyr)
library(plotly)
library(RColorBrewer)
library(scales)
library(ggthemes)
library(tidyr)
library(foreign)
library(Hmisc)
library(haven)
library(rhandsontable)
library(factoextra)
library(FactoMineR)
library(cluster)
library(ade4)
library(stargazer)
library(psych)
library(clustertend)
library(corrplot)
library(summarytools)
library(kableExtra)
library(ggpubr)
library(splines2)
library(reshape2)
library(DT)
library(likert)
library(ineq)
library(MASS)
library(knitr)
library(viridis)
library(leaflet)
library(here)
# figure caption on top a hook function
#
set.seed(7)
#clear the workspace
rm(list = ls())
# Read all the data sets to R
list.filenames <- list.files(path = here("Data"), pattern = ".dta")
# create an empity list to
list.data <- list()
# loop through the file names and the data
for(i in 1:length(list.filenames)){
list.data[[i]] <- as_factor(haven::read_dta(paste0("Data/",list.filenames[i])), only_labelled = TRUE)
#list.data2[[i]] <- foreign::read.dta(list.filenames[i], convert.factors = TRUE)
}
# attache file names to the list
names(list.data) <- list.filenames
#global rounding function
round_df <- function(x, digits) {
# round all numeric variables
# x: data frame
# digits: number of digits to round
numeric_columns <- sapply(x, class) == 'numeric'
x[numeric_columns] <-  round(x[numeric_columns], digits)
x
}
myColors <- list( "#2f1a5c",
"#5f1d65",
"#8a2168",
"#b12d64",
"#d1435c",
"#e96050",
"#f98143",
"#ffa538")
myColors2 <- list("#26547C","#EF476F","#FFD166","#06D6A0",
"#454545","#9E2A2B","#E09F3E","#306B34"
, "#5603AD", "#52154E", "#20A4F3",
"#0F8B8D","#F26419")
mycolor3 <- c("#19619d",
"#208a4b",
"#665191",
"#a05195",
"#b01255",
"#ffa600",
"#0e2759",
"#ff7c43"
)
library(rgdal)
library(leaflet)
shapeData <- readOGR(here("StudyAreaMap"), "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap/", "StudyArea", verbose = FALSE)
library(rgdal)
library(leaflet)
shapeData <- readOGR("StudyAreaMap/StudyArea.shp", "StudyArea", verbose = FALSE)
shapeData <- spTransform(shapeData, CRS("+proj=longlat +datum=WGS84 +no_defs"))
cities<- read.csv2(here("Data_csv", "wardCenterPoint.csv"))
leaflet(shapeData) %>%
#  addTiles()%>%
#addProviderTiles(providers$Stamen.TerrainBackground)%>%
addProviderTiles(providers$Esri.WorldImagery)%>%
addProviderTiles(providers$OpenStreetMap, options = providerTileOptions(opacity = 0.2))%>%
setView( lat = -8.350750, lng = 36.700436,zoom=9)%>%
# addCircles( lat = -8.350750, lng = 36.560436,radius =70000, opacity = 0.1)%>%
# addCircles( lat = -8.350750, lng = 36.560436,radius =65000, opacity = 0.1)%>%
addPolygons(weight = 1, col ="white", fillColor = topo.colors(10, NULL),
highlight = highlightOptions(color = "black", weight = 3, bringToFront = TRUE), label = paste0(shapeData$WARD_NAME," , ", "Farm Population: ", shapeData$NoFarmHH12) )%>%
addCircles(data = cities, lng = ~lng, lat = ~lat, weight = 1,
radius = ~sqrt(cities$NoHH2012) * 50)%>%
addCircles(data = cities, lng = ~lng, lat = ~lat, weight = 1,
radius = ~sqrt(cities$NoFHH12_2) * 50, color = "red")
unlink('CharacterizingFarmers_3_cache', recursive = TRUE)
